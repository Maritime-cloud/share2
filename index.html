<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
    <meta name="description" content="NativeShare 是一个整合了各大移动端浏览器调用原生分享的插件！！！">
    <title>NativeShare demo</title>
    <script src="http://libs.baidu.com/jquery/1.9.0/jquery.min.js"></script>
    <style>

      #shareit {
        -webkit-user-select: none;
        display: none;
        position: absolute;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.85);
        text-align: center;
        top: 0;
        left: 0;
        z-index: 105;
      }
      #shareit img {
        max-width: 100%;
      }
    .arrow {
      position: absolute;
      margin-left: -165px;
      left: 50%;
      top: 5%;
    }
    #share_btn{
      color:yellow;
    }
        </style>

</head>

<body>
  <a id="share_btn" href="####">分享到朋友圈</a>
<div id="shareit">
  <img class="arrow" src="http://www.lanrenmb.com/wap/449/img/guide1.png">

</div>


</body>
<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js" charset="utf-8"></script>
<script type="text/javascript">
// function sendMessage(){
//   alert(123);
// //  WeixinJSBridge.on('menu:share:timeline', function(argv){
//   function weixinShareTimeline(title,desc,link,imgUrl){
//       WeixinJSBridge.invoke('shareTimeline',{
//         "img_url": "https://www.rongrong.cn/favicon.ico", //分享时所带的图片路径
//         "link":"https://www.rongrong.cn/", //分享附带链接地址
//         "desc":"我是一个介绍", //分享内容介绍
//         "title":"标题，再简单不过了。"
//       });
//   }
//
// }
//
$("#share_btn").on("click", function() {
     $("#shareit").show();
 });

 $("#shareit").on("click", function(){
   $("#shareit").hide();
 })


 WeixinApi.ready(function(Api) {
     // 微信分享的数据
     var wxData = {
         "appId": "", // 服务号可以填写appId
         "imgUrl" : 'http://www.forasp.cn/logo.jpg',
         "link" : location.href,
         "desc" : document.title,
         "title" : document.title
     };

     // 分享的回调
     var wxCallbacks = {
         // 分享操作开始之前
         ready : function() {
            alert(0)
         },
         cancel : function(resp) {
           alert(2)
         },
         // 分享失败了
         fail : function(resp) {
            alert(2)
           alert("shibai")
         },
         // 分享成功
         confirm : function(resp) {
 			       shareok();
         },
         all : function(resp,shareTo) {
         }
     };
     Api.shareToFriend(wxData, wxCallbacks);
     Api.shareToTimeline(wxData, wxCallbacks);
     Api.shareToWeibo(wxData, wxCallbacks);
     Api.generalShare(wxData,wxCallbacks);
 });
 function shareok(){

  alert(3)
 }


</script>

</html>
